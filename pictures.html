<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
    <title>Memory Card Game</title>
</head>
<style>
    body {
        background-color: violet;
    }

    img {
        width: 100px;
        height: 100px;
        border-radius: 5px;
    }

    #header {
        text-align: center;
    }

    #imagesDiv {
        display: grid;
        grid-template-columns: 105px 105px 105px 105px;
        gap: 5px;
        justify-content: center;
    }
</style>
<script>
    let imagesObjs = [{id:1, img:"images/apple.jpeg"},
                        {id:2, img:"images/banana.jpeg"},
                        {id:3, img:"images/kiwi.jpeg"},
                        {id:4, img:"images/apple.jpeg"},
                        {id:5, img:"images/kiwi.jpeg"},
                        {id:6, img:"images/orange.jpeg"},
                        {id:7, img:"images/watermelon.jpeg"},
                        {id:8, img:"images/watermelon.jpeg"},
                        {id:9, img:"images/mango.jpeg"},
                        {id:10, img:"images/banana.jpeg"},
                        {id:11, img:"images/orange.jpeg"},
                        {id:12, img:"images/mango.jpeg"}];

    let count = 0;
    let clickedImagesArray = [];
    let questionMarkImage = "images/questionMark.png";


    $('document').ready(function() {
        $("#imagesDiv").html('');

        for (let i=0; i<imagesObjs.length; i++) {
            let newObj = $('<img src="' + questionMarkImage + '" onclick="showImage(this, ' + (i+1) + ')" />');
            $("#imagesDiv").append(newObj);
        }
    })

    function replaceImages() {
        for (let obj of clickedImagesArray) {
            setTimeout(() => {
                let htmlId = "#" + obj.id;
                let qImage = $('<img src="' + questionMarkImage + '" onclick="showImage(this, ' + obj.id + ')" />');
                $(htmlId).replaceWith(qImage);
                
            }, 1000);
        }
    }

    function showImage(self, id) {
        if (clickedImagesArray.length == 2) {
            // do nothing
        }
        else {
            let clickedImage = imagesObjs.filter((v, i, array) => v.id == id)[0];
            let html = '<img id="' + id + '" src="' + clickedImage.img + '" />';
            let imageHtml = $(html);
            $(self).replaceWith(imageHtml);
            
            clickedImagesArray.push(clickedImage);

            if (clickedImagesArray.length == 2) {
                if (!(clickedImagesArray[0].img == clickedImagesArray[1].img)) {
                    replaceImages();
                }
                else {
                    count ++;
                }

                clickedImagesArray = [];
            }
        }
    }
</script>
<body>
    <h1 id="header">Memory Card Game</h1>
    <div id="mainDiv">
        <div id="imagesDiv"></div>
    </div>
</body>
</html>